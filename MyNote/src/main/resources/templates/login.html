<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyNote我的筆記-登入</title>
    <!-- 載入 Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 載入 Inter 字體 -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <style>
        /* 確保全域使用 Inter 字體 */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* 隱藏捲軸，保持介面簡潔 */
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .hide-scrollbar {
            -ms-overflow-style: none; /* IE and Edge */
            scrollbar-width: none; /* Firefox */
        }
        /* 確保 textarea 不會被使用者拉伸導致佈局破壞 */
        textarea {
            resize: none;
        }
    </style>
</head>
<body class="bg-gray-100">

    <!-- 應用程式主容器 -->
    <div id="app-container">
        <!-- 內容將由 JavaScript 渲染 -->
    </div>

    <script>
        // --- 狀態管理 (模擬 React useState) ---
        const DEFAULT_USERNAME = 'LoveJava';
        let usernameInput = DEFAULT_USERNAME;
        const appContainer = document.getElementById('app-container');

        // --- 工具函數：Lucide Icon SVG ---
        // 使用 inline SVG 替換 Lucide React Component
        const getIcon = (iconName, size = 20, className = '') => {
            const icons = {
                'FileText': `<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/><line x1="16" x2="16" y1="10" y2="10"/><line x1="16" x2="16" y1="14" y2="14"/><line x1="10" x2="10" y1="18" y2="18"/>`,
                'ArrowRight': `<line x1="5" x2="19" y1="12" y2="12"/><polyline points="12 5 19 12 12 19"/>`
            };
            const svg = `<svg xmlns="http://www.w3.org/2000/svg" width="${size}" height="${size}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="${className}">${icons[iconName] || ''}</svg>`;
            return svg;
        };

        // --- 核心邏輯 ---

        //模擬登入
        function handleLogin(event) {
            event.preventDefault();
            const inputElement = document.getElementById('username-input');
            const passwordElement = document.getElementById('password-input');
            
            if (inputElement.value.trim() && passwordElement.value) {
                //登入成功
                const user = { id: 'u1', username: inputElement.value.trim() };
                
                // 將使用者資訊存入 localStorage 以便在 notes.html 使用
                localStorage.setItem('user', JSON.stringify(user));

                // 跳轉到筆記頁面
				window.location.href = '/notes';
            } else {
                alert('請輸入帳號和密碼。');
            }
        }

        // 渲染登入頁面
        function renderLogin() {
            appContainer.className = "min-h-screen";
            appContainer.innerHTML = `
                <div class="min-h-screen bg-gray-50 flex flex-col justify-center items-center p-4 font-sans">
                    <div class="bg-white p-8 rounded-2xl shadow-xl w-full max-w-md">
                        <div class="flex justify-center mb-6">
                            <div class="w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center text-white">
                                ${getIcon('FileText', 32)}
                            </div>
                        </div>
                        <h1 class="text-3xl font-bold text-center text-gray-800 mb-2">MyNote</h1>
                        <p class="text-gray-500 text-center mb-8">您的專屬個人筆記空間</p>
                        
                        <form id="login-form" class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">帳號</label>
                                <input 
                                    type="text" 
                                    id="username-input"
                                    value="${usernameInput}"
                                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"
                                    placeholder="請輸入帳號"
                                >
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">密碼</label>
                                <input 
                                    type="password" 
                                    id="password-input"
                                    value="password"
                                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"
                                    placeholder="請輸入密碼"
                                >
                            </div>
                            <button 
                                type="submit"
                                class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2 mt-4"
                            >
                                登入 ${getIcon('ArrowRight', 18)}
                            </button>
                        </form>
                    </div>
                </div>
            `;
            
            // 綁定事件監聽器
            document.getElementById('login-form').addEventListener('submit', handleLogin);
            document.getElementById('username-input').addEventListener('input', (e) => {
                usernameInput = e.target.value; // 更新狀態變數
            });
        }

        // 初始化應用程式
        window.onload = renderLogin;

    </script>
</body>
</html>